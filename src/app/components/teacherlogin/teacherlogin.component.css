/* =========================================================
   Teacher Dashboard â€” Cleaned & corrected
   ========================================================= */

/* ------------------------------
   Theme Tokens (Light-first)
   ------------------------------ */
:root{
  --bg:#f5f8ff;
  --panel:#ffffff;
  --panel-2:#f9fbff;
  --text:#142433;
  --muted:#6a7385;

  --primary:#3d76f0;
  --primary-2:#2f64db;

  --border:#e5e9f2;
  --border-2:#ecf0f7;
  --radius:14px;
  --shadow:0 10px 28px rgba(9,30,66,.08);
  --shadow-sm:0 6px 18px rgba(9,30,66,.06);

  --good-fg:#0f8a65; --good-bg:#e8f7f2; --good-br:#cfeae1;
  --warn-fg:#a15d00; --warn-bg:#fff3e0; --warn-br:#ffe1b3;
  --bad-fg:#c0363a;  --bad-bg:#ffebee;  --bad-br:#ffc9d2;

  --thead-bg:#f3f6fc; --thead-fg:#51607a;
}

/* Dark mode */
@media (prefers-color-scheme: dark){
  :root{
    --bg:#0e1116;
    --panel:#11161c;
    --panel-2:#131a22;
    --text:#e9edf5;
    --muted:#9aa6bb;

    --primary:#6e8cff;
    --primary-2:#5f7cf2;

    --border:#1e2631;
    --border-2:#222c39;

    --good-fg:#19b08a; --good-bg:rgba(25,176,138,.12); --good-br:rgba(25,176,138,.2);
    --warn-fg:#f2ae2e;  --warn-bg:rgba(242,174,46,.12);  --warn-br:rgba(242,174,46,.18);
    --bad-fg:#ff7a7a;   --bad-bg:rgba(255,122,122,.12);  --bad-br:rgba(255,122,122,.18);

    --thead-bg:#121826; --thead-fg:#9fb0c8;
    --shadow:0 8px 24px rgba(0,0,0,.35);
    --shadow-sm:0 6px 18px rgba(0,0,0,.25);
  }
}

/* ------------------------------
   Base & Typography
   ------------------------------ */
:host{display:block}
*{box-sizing:border-box}
html,body{background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial}
h1,h2,h3{margin:0 0 12px;font-weight:700}
.muted{color:var(--muted)}
.sep{opacity:.5;margin:0 6px}

/* keyboard focus fallback (safer than color-mix) */
:focus-visible{outline:3px solid rgba(61,118,240,.18);outline-offset:2px;border-radius:8px}

/* ------------------------------
   Container / Shell
   ------------------------------ */
.teacher-container,
.dash-wrap{
  max-width:1080px;margin:0 auto;padding:20px;
}

/* Header & Tabs */
.dash-bar{display:flex;align-items:flex-end;justify-content:space-between;gap:16px;margin-bottom:18px}
.title h1{margin:0;font-size:22px}
.title .sub{margin-top:6px;color:var(--muted);font-size:13px}

.tabs{display:flex;gap:8px}
.tab{
  appearance:none;border:1px solid var(--border);color:var(--muted);
  background:var(--panel);padding:10px 14px;border-radius:999px;cursor:pointer;transition:all .18s;box-shadow:var(--shadow-sm)
}
.tab:hover{border-color:var(--border-2);color:var(--text)}
.tab._on{color:#fff;background:var(--primary);border-color:var(--primary)}

/* Panels / Cards */
.panel{
  background:var(--panel);border:1px solid var(--border);border-radius:var(--radius);
  padding:16px;box-shadow:var(--shadow);margin-bottom:18px
}
.panel-head{display:flex;align-items:baseline;justify-content:space-between;margin-bottom:10px}
.panel-head h2{margin:0;font-size:18px}

/* ------------------------------
   Students Grid
   ------------------------------ */
.students-grid{display:grid;gap:12px;grid-template-columns:repeat(2,minmax(260px,1fr))}
.student-card{
  background:var(--panel-2);border:1px solid var(--border-2);border-radius:12px;padding:12px;
  transition:transform .12s,box-shadow .12s,border-color .12s
}
.student-card:hover{transform:translateY(-2px);box-shadow:var(--shadow-sm);border-color:var(--border)}
.student-card .row1{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}
.student-card .name{font-weight:700}
.student-card .id{color:var(--muted);font-size:12px}
.student-card .row2 .meta{color:var(--muted);font-size:13px}
.student-card .row3.actions{display:flex;gap:8px;margin-top:10px}

/* ------------------------------
   Attendance
   ------------------------------ */
.bulk-bar{
  display:flex;justify-content:space-between;align-items:center;background:var(--panel-2);
  border:1px dashed var(--border-2);border-radius:12px;padding:10px;margin-bottom:12px
}
.chip{
  padding:8px 12px;border-radius:999px;font-size:12px;cursor:pointer;background:transparent;
  border:1px solid var(--border-2);color:var(--muted);transition:all .18s
}
.chip:hover{border-color:var(--border);color:var(--text)}
.chip.good{color:var(--good-fg);border-color:var(--good-br);background:var(--good-bg)}
.chip.warn{color:var(--warn-fg);border-color:var(--warn-br);background:var(--warn-bg)}
.chip.bad{color:var(--bad-fg);border-color:var(--bad-br);background:var(--bad-bg)}

.table-wrap{overflow:auto;border-radius:12px;border:1px solid var(--border)}
table{width:100%;border-collapse:separate;border-spacing:0;min-width:640px}
thead th{
  position:sticky;top:0;z-index:1;background:var(--thead-bg);color:var(--thead-fg);
  font-weight:600;text-align:left;padding:12px;border-bottom:1px solid var(--border)
}
tbody td{padding:12px;border-bottom:1px solid var(--border-2)}
tbody tr:hover{background:rgba(0,0,0,0.02)}
td.fit{width:1%;white-space:nowrap}
.cell-stu .nm{font-weight:600}
.cell-stu .meta{color:var(--muted);font-size:12px}

.status-select{
  appearance:none;padding:8px 10px;border-radius:10px;background:var(--panel);color:var(--text);
  border:1px solid var(--border-2);outline:none;transition:border-color .15s,box-shadow .15s
}
.status-select:focus{border-color:var(--primary);box-shadow:0 0 0 6px rgba(61,118,240,.06)}

/* ------------------------------
   Notices
   ------------------------------ */
.notice-add{display:grid;gap:10px;background:var(--panel-2);border:1px dashed var(--border-2);border-radius:12px;padding:12px}
.notice-add textarea{
  width:100%;resize:vertical;background:var(--panel);color:var(--text);
  border:1px solid var(--border-2);border-radius:10px;padding:10px;outline:none
}
.notice-add textarea:focus{border-color:var(--primary);box-shadow:0 0 0 6px rgba(61,118,240,.06)}
.notice-list{display:grid;gap:10px;margin-top:10px}
.notice-item{
  display:flex;justify-content:space-between;gap:10px;align-items:flex-start;background:var(--panel-2);
  border:1px solid var(--border-2);border-radius:12px;padding:12px
}
.n-head{display:grid;gap:6px}
.n-title{font-weight:600}
.n-meta{display:flex;gap:6px;flex-wrap:wrap}
.pill{border:1px solid var(--border-2);color:var(--muted);background:var(--panel);border-radius:999px;padding:4px 8px;font-size:12px}
.pill.good{color:var(--good-fg);background:var(--good-bg);border-color:var(--good-br)}
.pill.warn{color:var(--warn-fg);background:var(--warn-bg);border-color:var(--warn-br)}
.pill.bad{color:var(--bad-fg);background:var(--bad-bg);border-color:var(--bad-br)}
.pill.ghost{background:transparent}

/* ------------------------------
   Buttons (unified)
   ------------------------------ */
button, .btn{
  appearance:none;cursor:pointer;border-radius:12px;padding:10px 14px;border:1px solid var(--border);
  background:var(--panel-2);color:var(--text);transition:all .18s;box-shadow:var(--shadow-sm)
}
button:hover, .btn:hover{border-color:var(--border-2);transform:translateY(-1px)}
.btn.primary{background:var(--primary);border-color:var(--primary);color:#fff}
.btn.primary:hover{background:var(--primary-2);border-color:var(--primary-2)}
.btn.ghost{background:transparent}
.btn.danger{color:var(--bad-fg);background:var(--bad-bg);border-color:var(--bad-br)}
.btn-warning, .btn.warn{background:var(--warn-bg);color:var(--warn-fg);border-color:var(--warn-br)}
.btn-sm, .btn.tiny{padding:6px 10px;font-size:13px}

/* ------------------------------
   Empty & Loader
   ------------------------------ */
.empty{text-align:center;color:var(--muted);padding:14px;border:1px dashed var(--border);border-radius:12px;background:transparent}
.loading-overlay{
  position:fixed;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:10px;
  background:rgba(0,0,0,.25);z-index:1000;color:#fff;font-weight:600
}
.spinner{width:36px;height:36px;border:3px solid var(--primary);border-top-color:transparent;border-radius:50%;animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* ------------------------------
   Responsive
   ------------------------------ */
@media (max-width:960px){
  .teacher-container,.dash-wrap{padding:14px}
  .students-grid{grid-template-columns:1fr}
  .attendance-actions{flex-direction:column}
  .student-item,.notice-item{flex-direction:column;align-items:flex-start}
}
