<div class="user-container">
  <h2>User Management</h2>

  <!-- Message -->
  <p *ngIf="message" class="message">{{ message }}</p>

  <!-- Add New User -->
  <div class="form-section">
    <h3>Add New User</h3>
    <input [(ngModel)]="newUser.username" placeholder="Username" />
    <input [(ngModel)]="newUser.password" placeholder="Password" type="password" />
    <input [(ngModel)]="newUser.role" placeholder="Role" />
    <button class="btn btn-primary" (click)="addUser()">Add User</button>
  </div>

  <!-- Unapproved Users -->
  <div *ngIf="unapprovedUsers.length > 0" class="user-list">
    <h3>Unapproved Users</h3>
    <div *ngFor="let user of unapprovedUsers" class="user-card">
      <p><strong>{{ user.username }}</strong> ({{ user.role }})</p>
      <button class="btn btn-approve" (click)="approveUser(user)">Approve</button>
    </div>
  </div>

  <!-- All Users -->
  <div class="user-list">
    <h3>All Users</h3>
    <div *ngFor="let user of users" class="user-card">
      <p><strong>{{ user.username }}</strong> ({{ user.role }}) - Approved: {{ user.isApproved }}</p>
      <button class="btn btn-edit" (click)="selectUser(user)">Edit</button>
      <button class="btn btn-danger" (click)="deleteUser(user._id)">Delete</button>
    </div>
  </div>

  <!-- Edit User -->
  <div *ngIf="selectedUser" class="form-section">
    <h3>Edit User</h3>
    <input [(ngModel)]="selectedUser.username" placeholder="Username" />
    <input [(ngModel)]="selectedUser.role" placeholder="Role" />
    <button class="btn btn-primary" (click)="updateUser()">Update</button>
    <button class="btn btn-secondary" (click)="selectedUser = null">Cancel</button>
  </div>
</div>